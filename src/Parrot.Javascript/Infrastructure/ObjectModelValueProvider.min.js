var ObjectModelValueProvider=function(){function n(){this.ValueTypeProvider=new ValueTypeProvider}return n.Prototype.getValue=function(n,t,i,r){var f=i,e,u;f==null&&(e=this.getValueType(r),r=e.Property,f=e.Type);switch(f){case ValueType.StringLiteral:case ValueType.Keyword:return{value:r,result:!0};case ValueType.Local:return{value:t,result:!0};case ValueType.Property:if(t!=null&&(u=this.getModelProperty(t,r),u.result==!0)||n!=null&&(u=this.getModelProperty(n,r),u.result==!0))return u}return{value:null,result:!1}},n.Prototype.getModelProperty=function(n,t){var s,i,u,f,e,r,h,o;if(t!=null){if(s=t,i=s.split("."),n==null&&i.Length!=1)throw new NullReferenceException(i[0]);if(i[0].Length>0){for(u in n)if(u==i[0])return(f=n[u],i.Length==1)?{value:f,result:!0}:this.getModelProperty(f,i.slice(1).join("."));if(n.__locals!=undefined&&n.__locals!=null)for(e=n.__locals,r=e.Length-1;r>=0;r--)if(h=e[r],o=this.getModelProperty(h,t),o.result==!0)return o}else return{value:n,result:!0}}return{value:null,result:!1}},n.Prototype.getValueType=function(n){if(n!=null){var t=this.ValueTypeProvider.getValue(n);return{property:t.Value,type:t.Type}}return{property:n,type:ValueType.Keyword}},n}()
