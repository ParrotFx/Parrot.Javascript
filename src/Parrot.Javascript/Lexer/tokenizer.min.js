var Parrot;(function(n){(function(t){var u=function(){function t(n){this._source=n;this._currentIndex=0}return t.prototype.HasAvailableTokens=function(){return this._currentIndex<this._source.length},t.prototype.Peek=function(){return this._source.charAt(this._currentIndex)},t.prototype.Consume=function(){if(this._currentIndex>=this._source.length)throw new i;var n=this._source.charAt(this._currentIndex);return this._currentIndex++,n},t.prototype.ConsumeIdentifier=function(){for(var t="",n=this.Peek();this.IsIdTail(n);)this.Consume(),t+=n,n=this.Peek();return t},t.prototype.ConsumeWhitespace=function(){for(var t="",n=this.Peek();this.IsWhitespace(n);)this.Consume(),t+=n,n=this.Peek();return t},t.prototype.ConsumeUntilNewLineOrEndOfStream=function(){for(var t="",n=this.Peek();!this.IsNewLine(n);)try{this.Consume();t+=n;n=this.Peek()}catch(i){break}return t},t.prototype.ConsumeQuotedStringLiteral=function(n){for(var i=this.Consume(),t=this.Peek();;){while(t!=n)this.Consume(),i+=t,t=this.Peek();if(i+=this.Consume(),this.Peek()!=n)break;this.Consume();t=this.Peek()}return i},t.prototype.IsNewLine=function(n){return n=="\r"||n=="\n"},t.prototype.GetNextToken=function(){var t;if(this.HasAvailableTokens()){if(t=this.Peek(),this.IsIdentifierHead(t))return new n.Lexer.IdentifierToken(this._currentIndex,this.ConsumeIdentifier(),1);if(this.IsWhitespace(t))return new n.Lexer.WhitespaceToken(this._currentIndex,this.ConsumeWhitespace(),13);switch(t){case",":return this.Consume(),new n.Lexer.CommaToken(this._currentIndex);case"(":return this.Consume(),new n.Lexer.OpenParenthesisToken(this._currentIndex);case")":return this.Consume(),new n.Lexer.CloseParenthesisToken(this._currentIndex);case"[":return this.Consume(),new n.Lexer.OpenBracketToken(this._currentIndex);case"]":return this.Consume(),new n.Lexer.CloseBracketToken(this._currentIndex);case"=":return this.Consume(),new n.Lexer.EqualToken(this._currentIndex);case"{":return this.Consume(),new n.Lexer.OpenBracesToken(this._currentIndex);case"}":return this.Consume(),new n.Lexer.CloseBracesToken(this._currentIndex);case">":return this.Consume(),new n.Lexer.GreaterThanToken(this._currentIndex);case"+":return this.Consume(),new n.Lexer.PlusToken(this._currentIndex);case"|":return new n.Lexer.StringLiteralPipeToken(this._currentIndex,this.ConsumeUntilNewLineOrEndOfStream());case'"':return new n.Lexer.QuotedStringLiteralToken(this._currentIndex,this.ConsumeQuotedStringLiteral('"'));case"'":return new n.Lexer.QuotedStringLiteralToken(this._currentIndex,this.ConsumeQuotedStringLiteral("'"));case"@":return this.Consume(),new n.Lexer.AtToken(this._currentIndex);case"^":return this.Consume(),new n.Lexer.CarotToken(this._currentIndex);case'\0':return null;default:throw new r("Unexpected token: "+t);}}return null},t.prototype.IsWhitespace=function(n){return n=="\r"||n=="\n"||n==" "||n=="\f"||n=="\t"||n=="\x0b"},t.prototype.IsIdentifierHead=function(n){return n.match(/[a-zA-Z]/)!=null||n=="_"||n=="#"||n=="."},t.prototype.IsIdTail=function(n){return n.match(/[0-9]/)!=null||this.IsIdentifierHead(n)||n==":"||n=="-"},t.prototype.Tokenize=function(){for(var n,t=[];(n=this.GetNextToken())!=null;)t.push(n);return t},t.prototype.Tokens=function(){return this.Tokenize()},t}(),i,r;t.Tokenizer=u;i=function(){function n(){this.Message="Unexpected end of stream"}return n}();t.EndOfStreamException=i;r=function(){function n(n){this.Message=n}return n}();t.UnexpectedTokenException=r})(n.Lexer||(n.Lexer={}));var t=n.Lexer})(Parrot||(Parrot={}));
/*
//# sourceMappingURL=tokenizer.min.js.map
*/